!function(t,e){var n="blend-",i=function(){var t=navigator.userAgent.toLowerCase(),n=t.match(/uix\/(\d+\.\d+\.\d+\.\d+)/);return n?n[1]:e}(),r=i!==e;r&&!function(){var t=document.getElementsByTagName("HTML")[0],e=t.className;t.className=e+" "+n+"boost"}();var s=function(){function e(t){return null==t?String(t):V[G.call(t)]||"object"}function n(t){return"function"==e(t)}function i(t){return null!=t&&t==t.window}function r(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function s(t){return"object"==e(t)}function o(t){return s(t)&&!i(t)&&Object.getPrototypeOf(t)==Object.prototype}function a(t){return"number"==typeof t.length}function c(t){return P.call(t,function(t){return null!=t})}function l(t){return t.length>0?k.fn.concat.apply([],t):t}function u(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function h(t){return t in j?j[t]:j[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function d(t,e){return"number"!=typeof e||X[u(t)]?e:e+"px"}function f(t){var e,n;return O[t]||(e=N.createElement(t),N.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),O[t]=n),O[t]}function p(t){return"children"in t?I.call(t.children):k.map(t.childNodes,function(t){return 1==t.nodeType?t:void 0})}function m(t,e){var n,i=t?t.length:0;for(n=0;i>n;n++)this[n]=t[n];this.length=i,this.selector=e||""}function g(t,e,n){for(_ in e)n&&(o(e[_])||tt(e[_]))?(o(e[_])&&!o(t[_])&&(t[_]={}),tt(e[_])&&!tt(t[_])&&(t[_]=[]),g(t[_],e[_],n)):e[_]!==w&&(t[_]=e[_])}function v(t,e){return null==e?k(t):k(t).filter(e)}function y(t,e,i,r){return n(e)?e.call(t,i,r):e}function b(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function T(t,e){var n=t.className||"",i=n&&n.baseVal!==w;return e===w?i?n.baseVal:n:void(i?n.baseVal=e:t.className=e)}function x(t){try{return t?"true"==t||("false"==t?!1:"null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?k.parseJSON(t):t):t}catch(e){return t}}function E(t,e){e(t);for(var n=0,i=t.childNodes.length;i>n;n++)E(t.childNodes[n],e)}var w,_,k,C,S,M,L=[],D=L.concat,P=L.filter,I=L.slice,N=t.document,O={},j={},X={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},H=/^\s*<(\w+|!)[^>]*>/,$=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,A=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Y=/^(?:body|html)$/i,F=/([A-Z])/g,z=["val","css","html","text","data","width","height","offset"],Z=["after","prepend","before","append"],W=N.createElement("table"),R=N.createElement("tr"),q={tr:N.createElement("tbody"),tbody:W,thead:W,tfoot:W,td:R,th:R,"*":N.createElement("div")},B=/complete|loaded|interactive/,U=/^[\w-]*$/,V={},G=V.toString,J={},K=N.createElement("div"),Q={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},tt=Array.isArray||function(t){return t instanceof Array};return J.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var i,r=t.parentNode,s=!r;return s&&(r=K).appendChild(t),i=~J.qsa(r,e).indexOf(t),s&&K.removeChild(t),i},S=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},M=function(t){return P.call(t,function(e,n){return t.indexOf(e)==n})},J.fragment=function(t,e,n){var i,r,s;return $.test(t)&&(i=k(N.createElement(RegExp.$1))),i||(t.replace&&(t=t.replace(A,"<$1></$2>")),e===w&&(e=H.test(t)&&RegExp.$1),e in q||(e="*"),s=q[e],s.innerHTML=""+t,i=k.each(I.call(s.childNodes),function(){s.removeChild(this)})),o(n)&&(r=k(i),k.each(n,function(t,e){z.indexOf(t)>-1?r[t](e):r.attr(t,e)})),i},J.Z=function(t,e){return new m(t,e)},J.isZ=function(t){return t instanceof J.Z},J.init=function(t,e){var i;if(!t)return J.Z();if("string"==typeof t)if(t=t.trim(),"<"==t[0]&&H.test(t))i=J.fragment(t,RegExp.$1,e),t=null;else{if(e!==w)return k(e).find(t);i=J.qsa(N,t)}else{if(n(t))return k(N).ready(t);if(J.isZ(t))return t;if(tt(t))i=c(t);else if(s(t))i=[t],t=null;else if(H.test(t))i=J.fragment(t.trim(),RegExp.$1,e),t=null;else{if(e!==w)return k(e).find(t);i=J.qsa(N,t)}}return J.Z(i,t)},k=function(t,e){return J.init(t,e)},k.extend=function(t){var e,n=I.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach(function(n){g(t,n,e)}),t},J.qsa=function(t,e){var n,i="#"==e[0],r=!i&&"."==e[0],s=i||r?e.slice(1):e,o=U.test(s);return t.getElementById&&o&&i?(n=t.getElementById(s))?[n]:[]:1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType?[]:I.call(o&&!i&&t.getElementsByClassName?r?t.getElementsByClassName(s):t.getElementsByTagName(e):t.querySelectorAll(e))},k.contains=N.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},k.type=e,k.isFunction=n,k.isWindow=i,k.isArray=tt,k.isPlainObject=o,k.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},k.inArray=function(t,e,n){return L.indexOf.call(e,t,n)},k.camelCase=S,k.trim=function(t){return null==t?"":String.prototype.trim.call(t)},k.uuid=0,k.support={},k.expr={},k.noop=function(){},k.map=function(t,e){var n,i,r,s=[];if(a(t))for(i=0;i<t.length;i++)n=e(t[i],i),null!=n&&s.push(n);else for(r in t)n=e(t[r],r),null!=n&&s.push(n);return l(s)},k.each=function(t,e){var n,i;if(a(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(i in t)if(e.call(t[i],i,t[i])===!1)return t;return t},k.grep=function(t,e){return P.call(t,e)},t.JSON&&(k.parseJSON=JSON.parse),k.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){V["[object "+e+"]"]=e.toLowerCase()}),k.fn={constructor:J.Z,length:0,forEach:L.forEach,reduce:L.reduce,push:L.push,sort:L.sort,splice:L.splice,indexOf:L.indexOf,concat:function(){var t,e,n=[];for(t=0;t<arguments.length;t++)e=arguments[t],n[t]=J.isZ(e)?e.toArray():e;return D.apply(J.isZ(this)?this.toArray():this,n)},map:function(t){return k(k.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return k(I.apply(this,arguments))},ready:function(t){return B.test(N.readyState)&&N.body?t(k):N.addEventListener("DOMContentLoaded",function(){t(k)},!1),this},get:function(t){return t===w?I.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return L.every.call(this,function(e,n){return t.call(e,n,e)!==!1}),this},filter:function(t){return n(t)?this.not(this.not(t)):k(P.call(this,function(e){return J.matches(e,t)}))},add:function(t,e){return k(M(this.concat(k(t,e))))},is:function(t){return this.length>0&&J.matches(this[0],t)},not:function(t){var e=[];if(n(t)&&t.call!==w)this.each(function(n){t.call(this,n)||e.push(this)});else{var i="string"==typeof t?this.filter(t):a(t)&&n(t.item)?I.call(t):k(t);this.forEach(function(t){i.indexOf(t)<0&&e.push(t)})}return k(e)},has:function(t){return this.filter(function(){return s(t)?k.contains(this,t):k(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!s(t)?t:k(t)},last:function(){var t=this[this.length-1];return t&&!s(t)?t:k(t)},find:function(t){var e,n=this;return e=t?"object"==typeof t?k(t).filter(function(){var t=this;return L.some.call(n,function(e){return k.contains(e,t)})}):1==this.length?k(J.qsa(this[0],t)):this.map(function(){return J.qsa(this,t)}):k()},closest:function(t,e){var n=this[0],i=!1;for("object"==typeof t&&(i=k(t));n&&!(i?i.indexOf(n)>=0:J.matches(n,t));)n=n!==e&&!r(n)&&n.parentNode;return k(n)},parents:function(t){for(var e=[],n=this;n.length>0;)n=k.map(n,function(t){return(t=t.parentNode)&&!r(t)&&e.indexOf(t)<0?(e.push(t),t):void 0});return v(e,t)},parent:function(t){return v(M(this.pluck("parentNode")),t)},children:function(t){return v(this.map(function(){return p(this)}),t)},contents:function(){return this.map(function(){return this.contentDocument||I.call(this.childNodes)})},siblings:function(t){return v(this.map(function(t,e){return P.call(p(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return k.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=f(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var e=n(t);if(this[0]&&!e)var i=k(t).get(0),r=i.parentNode||this.length>1;return this.each(function(n){k(this).wrapAll(e?t.call(this,n):r?i.cloneNode(!0):i)})},wrapAll:function(t){if(this[0]){k(this[0]).before(t=k(t));for(var e;(e=t.children()).length;)t=e.first();k(t).append(this)}return this},wrapInner:function(t){var e=n(t);return this.each(function(n){var i=k(this),r=i.contents(),s=e?t.call(this,n):t;r.length?r.wrapAll(s):i.append(s)})},unwrap:function(){return this.parent().each(function(){k(this).replaceWith(k(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=k(this);(t===w?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return k(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return k(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(e){var n=this.innerHTML;k(this).empty().append(y(this,t,e,n))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var n=y(this,t,e,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(t,e){var n;return"string"!=typeof t||1 in arguments?this.each(function(n){if(1===this.nodeType)if(s(t))for(_ in t)b(this,_,t[_]);else b(this,t,y(this,e,n,this.getAttribute(t)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(t))&&t in this[0]?this[0][t]:n:w},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(" ").forEach(function(t){b(this,t)},this)})},prop:function(t,e){return t=Q[t]||t,1 in arguments?this.each(function(n){this[t]=y(this,e,n,this[t])}):this[0]&&this[0][t]},data:function(t,e){var n="data-"+t.replace(F,"-$1").toLowerCase(),i=1 in arguments?this.attr(n,e):this.attr(n);return null!==i?x(i):w},val:function(t){return 0 in arguments?this.each(function(e){this.value=y(this,t,e,this.value)}):this[0]&&(this[0].multiple?k(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(t){var n=k(this),i=y(this,e,t,n.offset()),r=n.offsetParent().offset(),s={top:i.top-r.top,left:i.left-r.left};"static"==n.css("position")&&(s.position="relative"),n.css(s)});if(!this.length)return null;var n=this[0].getBoundingClientRect();return{left:n.left+t.pageXOffset,top:n.top+t.pageYOffset,width:Math.round(n.width),height:Math.round(n.height)}},css:function(t,n){if(arguments.length<2){var i,r=this[0];if(!r)return;if(i=getComputedStyle(r,""),"string"==typeof t)return r.style[S(t)]||i.getPropertyValue(t);if(tt(t)){var s={};return k.each(t,function(t,e){s[e]=r.style[S(e)]||i.getPropertyValue(e)}),s}}var o="";if("string"==e(t))n||0===n?o=u(t)+":"+d(t,n):this.each(function(){this.style.removeProperty(u(t))});else for(_ in t)t[_]||0===t[_]?o+=u(_)+":"+d(_,t[_])+";":this.each(function(){this.style.removeProperty(u(_))});return this.each(function(){this.style.cssText+=";"+o})},index:function(t){return t?this.indexOf(k(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return t?L.some.call(this,function(t){return this.test(T(t))},h(t)):!1},addClass:function(t){return t?this.each(function(e){if("className"in this){C=[];var n=T(this),i=y(this,t,e,n);i.split(/\s+/g).forEach(function(t){k(this).hasClass(t)||C.push(t)},this),C.length&&T(this,n+(n?" ":"")+C.join(" "))}}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(t===w)return T(this,"");C=T(this),y(this,t,e,C).split(/\s+/g).forEach(function(t){C=C.replace(h(t)," ")}),T(this,C.trim())}})},toggleClass:function(t,e){return t?this.each(function(n){var i=k(this),r=y(this,t,n,T(this));r.split(/\s+/g).forEach(function(t){(e===w?!i.hasClass(t):e)?i.addClass(t):i.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===w?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return t===w?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),i=Y.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(k(t).css("margin-top"))||0,n.left-=parseFloat(k(t).css("margin-left"))||0,i.top+=parseFloat(k(e[0]).css("border-top-width"))||0,i.left+=parseFloat(k(e[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||N.body;t&&!Y.test(t.nodeName)&&"static"==k(t).css("position");)t=t.offsetParent;return t})}},k.fn.detach=k.fn.remove,["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});k.fn[t]=function(n){var s,o=this[0];return n===w?i(o)?o["inner"+e]:r(o)?o.documentElement["scroll"+e]:(s=this.offset())&&s[t]:this.each(function(e){o=k(this),o.css(t,y(this,n,e,o[t]()))})}}),Z.forEach(function(n,i){var r=i%2;k.fn[n]=function(){var n,s,o=k.map(arguments,function(t){return n=e(t),"object"==n||"array"==n||null==t?t:J.fragment(t)}),a=this.length>1;return o.length<1?this:this.each(function(e,n){s=r?n:n.parentNode,n=0==i?n.nextSibling:1==i?n.firstChild:2==i?n:null;var c=k.contains(N.documentElement,s);o.forEach(function(e){if(a)e=e.cloneNode(!0);else if(!s)return k(e).remove();s.insertBefore(e,n),c&&E(e,function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src||t.eval.call(t,e.innerHTML)})})})},k.fn[r?n+"To":"insert"+(i?"Before":"After")]=function(t){return k(t)[n](this),this}}),J.Z.prototype=m.prototype=k.fn,J.uniq=M,J.deserializeValue=x,k.zepto=J,k}(),o=t.Zepto,a=t.$,c="Zepto"in t,l="$"in t;s.noConflict=function(e){return t.$===s&&(l?t.$=a:delete t.$),e&&t.Zepto===s&&(c?t.Zepto=o:delete t.Zepto),s},t.Zepto=t.$=s,function(t,e){function n(t){return t.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function i(t){return r?r+t:t.toLowerCase()}var r,s,o,a,c,l,u,h,d,f,p="",m={Webkit:"webkit",Moz:"",O:"o"},g=document.createElement("div"),v=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,y={};t.each(m,function(t,n){return g.style[t+"TransitionProperty"]!==e?(p="-"+t.toLowerCase()+"-",r=n,!1):void 0}),s=p+"transform",y[o=p+"transition-property"]=y[a=p+"transition-duration"]=y[l=p+"transition-delay"]=y[c=p+"transition-timing-function"]=y[u=p+"animation-name"]=y[h=p+"animation-duration"]=y[f=p+"animation-delay"]=y[d=p+"animation-timing-function"]="",t.fx={off:r===e&&g.style.transitionProperty===e,speeds:{_default:400,fast:200,slow:600},cssPrefix:p,transitionEnd:i("TransitionEnd"),animationEnd:i("AnimationEnd")},t.fn.animate=function(n,i,r,s,o){return t.isFunction(i)&&(s=i,r=e,i=e),t.isFunction(r)&&(s=r,r=e),t.isPlainObject(i)&&(r=i.easing,s=i.complete,o=i.delay,i=i.duration),i&&(i=("number"==typeof i?i:t.fx.speeds[i]||t.fx.speeds._default)/1e3),o&&(o=parseFloat(o)/1e3),this.anim(n,i,r,s,o)},t.fn.anim=function(i,r,p,m,g){var b,T,x,E={},w="",_=this,k=t.fx.transitionEnd,C=!1;if(r===e&&(r=t.fx.speeds._default/1e3),g===e&&(g=0),t.fx.off&&(r=0),"string"==typeof i)E[u]=i,E[h]=r+"s",E[f]=g+"s",E[d]=p||"linear",k=t.fx.animationEnd;else{T=[];for(b in i)v.test(b)?w+=b+"("+i[b]+") ":(E[b]=i[b],T.push(n(b)));w&&(E[s]=w,T.push(s)),r>0&&"object"==typeof i&&(E[o]=T.join(", "),E[a]=r+"s",E[l]=g+"s",E[c]=p||"linear")}return x=function(e){if("undefined"!=typeof e){if(e.target!==e.currentTarget)return;t(e.target).unbind(k,x)}else t(this).unbind(k,x);C=!0,t(this).css(y),m&&m.call(this)},r>0&&(this.bind(k,x),setTimeout(function(){C||x.call(_)},1e3*(r+g)+25)),this.size()&&this.get(0).clientLeft,this.css(E),0>=r&&setTimeout(function(){_.each(function(){x.call(this)})},0),this},g=null}(s);var u="http://cp01-rdqa04-dev111.cp01.baidu.com:8042/boost/test/blendui-naitve.js";!function(t){function e(t){var e=document.getElementsByTagName("head")[0],n=document.createElement("script"),i=u;n.setAttribute("type","text/javascript"),n.setAttribute("src",i),e.appendChild(n),n.onload=n.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||t(),n.onload=n.onreadystatechange=null}}t.dynamicLoad=e}(s),function(){"use strict";function n(t,e){function i(t,e){return function(){return t.apply(e,arguments)}}var s;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,this.tapTimeout=e.tapTimeout||700,!n.notNeeded(t)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],a=this,c=0,l=o.length;l>c;c++)a[o[c]]=i(a[o[c]],a);r&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,i){var r=Node.prototype.removeEventListener;"click"===e?r.call(t,e,n.hijacked||n,i):r.call(t,e,n,i)},t.addEventListener=function(e,n,i){var r=Node.prototype.addEventListener;"click"===e?r.call(t,e,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),i):r.call(t,e,n,i)}),"function"==typeof t.onclick&&(s=t.onclick,t.addEventListener("click",function(t){s(t)},!1),t.onclick=null)}}var i=navigator.userAgent.indexOf("Windows Phone")>=0,r=navigator.userAgent.indexOf("Android")>0&&!i,s=/iP(ad|hone|od)/.test(navigator.userAgent)&&!i,o=s&&/OS 4_\d(_\d)?/.test(navigator.userAgent),a=s&&/OS [6-7]_\d/.test(navigator.userAgent),c=navigator.userAgent.indexOf("BB10")>0;n.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(s&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},n.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!r;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},n.prototype.sendClick=function(e,n){var i,r;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),r=n.changedTouches[0],i=document.createEvent("MouseEvents"),i.initMouseEvent(this.determineEventType(e),!0,!0,t,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,e.dispatchEvent(i)},n.prototype.determineEventType=function(t){return r&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},n.prototype.focus=function(t){var e;s&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},n.prototype.updateScrollParent=function(t){var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},n.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},n.prototype.onTouchStart=function(e){var n,i,r;if(e.targetTouches.length>1)return!0;if(n=this.getTargetElementFromEventTarget(e.target),i=e.targetTouches[0],s){if(r=t.getSelection(),r.rangeCount&&!r.isCollapsed)return!0;if(!o){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(n)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=n,this.touchStartX=i.pageX,this.touchStartY=i.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},n.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n?!0:!1},n.prototype.onTouchMove=function(t){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},n.prototype.findControl=function(t){return t.control!==e?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},n.prototype.onTouchEnd=function(e){var n,i,c,l,u,h=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,a&&(u=e.changedTouches[0],h=document.elementFromPoint(u.pageX-t.pageXOffset,u.pageY-t.pageYOffset)||h,h.fastClickScrollParent=this.targetElement.fastClickScrollParent),c=h.tagName.toLowerCase(),"label"===c){if(n=this.findControl(h)){if(this.focus(h),r)return!1;h=n}}else if(this.needsFocus(h))return e.timeStamp-i>100||s&&t.top!==t&&"input"===c?(this.targetElement=null,!1):(this.focus(h),this.sendClick(h,e),s&&"select"===c||(this.targetElement=null,e.preventDefault()),!1);return s&&!o&&(l=h.fastClickScrollParent,l&&l.fastClickLastScrollTop!==l.scrollTop)?!0:(this.needsClick(h)||(e.preventDefault(),this.sendClick(h,e)),!1)},n.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},n.prototype.onMouse=function(t){return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0},n.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},n.prototype.destroy=function(){var t=this.layer;r&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},n.notNeeded=function(e){var n,i,s,o;if("undefined"==typeof t.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!r)return!0;if(n=document.querySelector("meta[name=viewport]")){if(-1!==n.content.indexOf("user-scalable=no"))return!0;if(i>31&&document.documentElement.scrollWidth<=t.outerWidth)return!0}}if(c&&(s=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),s[1]>=10&&s[2]>=3&&(n=document.querySelector("meta[name=viewport]")))){if(-1!==n.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=t.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction?!0:(o=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],o>=27&&(n=document.querySelector("meta[name=viewport]"),n&&(-1!==n.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=t.outerWidth))?!0:"none"===e.style.touchAction||"manipulation"===e.style.touchAction?!0:!1)},n.attach=function(t,e){return new n(t,e)},t.FastClick=n}(),function(e){function n(t){return t._zid||(t._zid=f++)}function i(t,e,i,o){if(e=r(e),e.ns)var a=s(e.ns);return(v[n(t)]||[]).filter(function(t){return!(!t||e.e&&t.e!=e.e||e.ns&&!a.test(t.ns)||i&&n(t.fn)!==n(i)||o&&t.sel!=o)})}function r(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function s(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function o(t,e){return t.del&&!b&&t.e in T||!!e}function a(t){return x[t]||b&&T[t]||t}function c(t,i,s,c,l,h,f){var p=n(t),m=v[p]||(v[p]=[]);i.split(/\s/).forEach(function(n){if("ready"==n)return e(document).ready(s);var i=r(n);i.fn=s,i.sel=l,i.e in x&&(s=function(t){var n=t.relatedTarget;return!n||n!==this&&!e.contains(this,n)?i.fn.apply(this,arguments):void 0}),i.del=h;var p=h||s;i.proxy=function(e){if(e=u(e),!e.isImmediatePropagationStopped()){e.data=c;var n=p.apply(t,e._args==d?[e]:[e].concat(e._args));return n===!1&&(e.preventDefault(),e.stopPropagation()),n}},i.i=m.length,m.push(i),"addEventListener"in t&&t.addEventListener(a(i.e),i.proxy,o(i,f))})}function l(t,e,r,s,c){var l=n(t);(e||"").split(/\s/).forEach(function(e){i(t,e,r,s).forEach(function(e){delete v[l][e.i],"removeEventListener"in t&&t.removeEventListener(a(e.e),e.proxy,o(e,c))})})}function u(t,n){return(n||!t.isDefaultPrevented)&&(n||(n=t),e.each(k,function(e,i){var r=n[e];t[e]=function(){return this[i]=E,r&&r.apply(n,arguments)},t[i]=w}),(n.defaultPrevented!==d?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(t.isDefaultPrevented=E)),t}function h(t){var e,n={originalEvent:t};for(e in t)_.test(e)||t[e]===d||(n[e]=t[e]);return u(n,t)}var d,f=1,p=Array.prototype.slice,m=e.isFunction,g=function(t){return"string"==typeof t},v={},y={},b="onfocusin"in t,T={focus:"focusin",blur:"focusout"},x={mouseenter:"mouseover",mouseleave:"mouseout"};y.click=y.mousedown=y.mouseup=y.mousemove="MouseEvents",e.event={add:c,remove:l},e.proxy=function(t,i){var r=2 in arguments&&p.call(arguments,2);if(m(t)){var s=function(){return t.apply(i,r?r.concat(p.call(arguments)):arguments)};return s._zid=n(t),s}if(g(i))return r?(r.unshift(t[i],t),e.proxy.apply(null,r)):e.proxy(t[i],t);throw new TypeError("expected function")},e.fn.bind=function(t,e,n){return this.on(t,e,n)},e.fn.unbind=function(t,e){return this.off(t,e)},e.fn.one=function(t,e,n,i){return this.on(t,e,n,i,1)};var E=function(){return!0},w=function(){return!1},_=/^([A-Z]|returnValue$|layer[XY]$)/,k={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(t,e,n){return this.on(e,t,n)},e.fn.undelegate=function(t,e,n){return this.off(e,t,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,i,r,s){var o,a,u=this;return t&&!g(t)?(e.each(t,function(t,e){u.on(t,n,i,e,s)}),u):(g(n)||m(r)||r===!1||(r=i,i=n,n=d),(r===d||i===!1)&&(r=i,i=d),r===!1&&(r=w),u.each(function(u,d){s&&(o=function(t){return l(d,t.type,r),r.apply(this,arguments)}),n&&(a=function(t){var i,s=e(t.target).closest(n,d).get(0);return s&&s!==d?(i=e.extend(h(t),{currentTarget:s,liveFired:d}),(o||r).apply(s,[i].concat(p.call(arguments,1)))):void 0}),c(d,t,r,i,n,a||o)}))},e.fn.off=function(t,n,i){var r=this;return t&&!g(t)?(e.each(t,function(t,e){r.off(t,n,e)}),r):(g(n)||m(i)||i===!1||(i=n,n=d),i===!1&&(i=w),r.each(function(){l(this,t,i,n)}))},e.fn.trigger=function(t,n){return t=g(t)||e.isPlainObject(t)?e.Event(t):u(t),t._args=n,this.each(function(){t.type in T&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)})},e.fn.triggerHandler=function(t,n){var r,s;return this.each(function(o,a){r=h(g(t)?e.Event(t):t),r._args=n,r.target=a,e.each(i(a,t.type||t),function(t,e){return s=e.proxy(r),r.isImmediatePropagationStopped()?!1:void 0})}),s},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),e.Event=function(t,e){g(t)||(e=t,t=e.type);var n=document.createEvent(y[t]||"Events"),i=!0;if(e)for(var r in e)"bubbles"==r?i=!!e[r]:n[r]=e[r];return n.initEvent(t,i,!0),u(n)}}(s),function(t){function n(n,r){var l=n[c],u=l&&s[l];if(r===e)return u||i(n);if(u){if(r in u)return u[r];var h=a(r);if(h in u)return u[h]}return o.call(t(n),r)}function i(n,i,o){var l=n[c]||(n[c]=++t.uuid),u=s[l]||(s[l]=r(n));return i!==e&&(u[a(i)]=o),u}function r(e){var n={};return t.each(e.attributes||l,function(e,i){0==i.name.indexOf("data-")&&(n[a(i.name.replace("data-",""))]=t.zepto.deserializeValue(i.value))}),n}var s={},o=t.fn.data,a=t.camelCase,c=t.expando="Zepto"+ +new Date,l=[];t.fn.data=function(r,s){return s===e?t.isPlainObject(r)?this.each(function(e,n){t.each(r,function(t,e){i(n,t,e)})}):0 in this?n(this[0],r):e:this.each(function(){i(this,r,s)})},t.fn.removeData=function(e){return"string"==typeof e&&(e=e.split(/\s+/)),this.each(function(){var n=this[c],i=n&&s[n];i&&t.each(e||i,function(t){delete i[e?a(this):t]})})},["remove","empty"].forEach(function(e){var n=t.fn[e];t.fn[e]=function(){var t=this.find("*");return"remove"===e&&(t=t.add(this)),t.removeData(),n.call(this)}})}(s),function(n){function i(t,e,n,i){return Math.abs(t-e)>=Math.abs(n-i)?t-e>0?"Left":"Right":n-i>0?"Up":"Down"}function r(){d=null,p.last&&(p.el.trigger("longTap"),p={})}function s(){d&&clearTimeout(d),d=null}function o(){l&&clearTimeout(l),u&&clearTimeout(u),h&&clearTimeout(h),d&&clearTimeout(d),l=u=h=d=null,p={}}function a(t){return("touch"==t.pointerType||t.pointerType==t.MSPOINTER_TYPE_TOUCH)&&t.isPrimary}function c(t,e){return t.type=="pointer"+e||t.type.toLowerCase()=="mspointer"+e}var l,u,h,d,f,p={},m=750;n(document).ready(function(){var g,v,y,b,T=0,x=0;"MSGesture"in t&&(f=new MSGesture,f.target=document.body),n(document).bind("MSGestureEnd",function(t){var e=t.velocityX>1?"Right":t.velocityX<-1?"Left":t.velocityY>1?"Down":t.velocityY<-1?"Up":null;e&&(p.el.trigger("swipe"),p.el.trigger("swipe"+e))}).on("touchstart MSPointerDown pointerdown",function(t){(!(b=c(t,"down"))||a(t))&&(y=b?t:t.touches[0],t.touches&&1===t.touches.length&&p.x2&&(p.x2=e,p.y2=e),g=Date.now(),v=g-(p.last||g),p.el=n("tagName"in y.target?y.target:y.target.parentNode),l&&clearTimeout(l),p.x1=y.pageX,p.y1=y.pageY,v>0&&250>=v&&(p.isDoubleTap=!0),p.last=g,d=setTimeout(r,m),f&&b&&f.addPointer(t.pointerId))}).on("touchmove MSPointerMove pointermove",function(t){(!(b=c(t,"move"))||a(t))&&(y=b?t:t.touches[0],s(),p.x2=y.pageX,p.y2=y.pageY,T+=Math.abs(p.x1-p.x2),x+=Math.abs(p.y1-p.y2))}).on("touchend MSPointerUp pointerup",function(t){(!(b=c(t,"up"))||a(t))&&(s(),p.x2&&Math.abs(p.x1-p.x2)>30||p.y2&&Math.abs(p.y1-p.y2)>30?h=setTimeout(function(){p.el.trigger("swipe"),p.el.trigger("swipe"+i(p.x1,p.x2,p.y1,p.y2)),p={}},0):"last"in p&&(30>T&&30>x?u=setTimeout(function(){var t=n.Event("tap");t.cancelTouch=o,p.el.trigger(t),p.isDoubleTap?(p.el&&p.el.trigger("doubleTap"),p={}):l=setTimeout(function(){
l=null,p.el&&p.el.trigger("singleTap"),p={}},250)},0):p={}),T=x=0)}).on("touchcancel MSPointerCancel pointercancel",o),n(t).on("scroll",o)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){n.fn[t]=function(e){return this.on(t,e)}})}(s),function(n){function i(t,e,i){var r=n.Event(e);return n(t).trigger(r,i),!r.isDefaultPrevented()}function r(t,e,n,r){return t.global?i(e||T,n,r):void 0}function s(t){t.global&&0===n.active++&&r(t,null,"ajaxStart")}function o(t){t.global&&!--n.active&&r(t,null,"ajaxStop")}function a(t,e){var n=e.context;return e.beforeSend.call(n,t,e)===!1||r(e,n,"ajaxBeforeSend",[t,e])===!1?!1:void r(e,n,"ajaxSend",[t,e])}function c(t,e,n,i){var s=n.context,o="success";n.success.call(s,t,o,e),i&&i.resolveWith(s,[t,o,e]),r(n,s,"ajaxSuccess",[e,n,t]),u(o,e,n)}function l(t,e,n,i,s){var o=i.context;i.error.call(o,n,e,t),s&&s.rejectWith(o,[n,e,t]),r(i,o,"ajaxError",[n,i,t||e]),u(e,n,i)}function u(t,e,n){var i=n.context;n.complete.call(i,e,t),r(n,i,"ajaxComplete",[e,n]),o(n)}function h(){}function d(t){return t&&(t=t.split(";",2)[0]),t&&(t==k?"html":t==_?"json":E.test(t)?"script":w.test(t)&&"xml")||"text"}function f(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function p(t){t.processData&&t.data&&"string"!=n.type(t.data)&&(t.data=n.param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()||(t.url=f(t.url,t.data),t.data=e)}function m(t,i,r,s){return n.isFunction(i)&&(s=r,r=i,i=e),n.isFunction(r)||(s=r,r=e),{url:t,data:i,success:r,dataType:s}}function g(t,e,i,r){var s,o=n.isArray(e),a=n.isPlainObject(e);n.each(e,function(e,c){s=n.type(c),r&&(e=i?r:r+"["+(a||"object"==s||"array"==s?e:"")+"]"),!r&&o?t.add(c.name,c.value):"array"==s||!i&&"object"==s?g(t,c,i,e):t.add(e,c)})}var v,y,b=0,T=t.document,x=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,E=/^(?:text|application)\/javascript/i,w=/^(?:text|application)\/xml/i,_="application/json",k="text/html",C=/^\s*$/,S=T.createElement("a");S.href=t.location.href,n.active=0,n.ajaxJSONP=function(i,r){if(!("type"in i))return n.ajax(i);var s,o,u=i.jsonpCallback,h=(n.isFunction(u)?u():u)||"jsonp"+ ++b,d=T.createElement("script"),f=t[h],p=function(t){n(d).triggerHandler("error",t||"abort")},m={abort:p};return r&&r.promise(m),n(d).on("load error",function(a,u){clearTimeout(o),n(d).off().remove(),"error"!=a.type&&s?c(s[0],m,i,r):l(null,u||"error",m,i,r),t[h]=f,s&&n.isFunction(f)&&f(s[0]),f=s=e}),a(m,i)===!1?(p("abort"),m):(t[h]=function(){s=arguments},d.src=i.url.replace(/\?(.+)=\?/,"?$1="+h),T.head.appendChild(d),i.timeout>0&&(o=setTimeout(function(){p("timeout")},i.timeout)),m)},n.ajaxSettings={type:"GET",beforeSend:h,success:h,error:h,complete:h,context:null,global:!0,xhr:function(){return new t.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:_,xml:"application/xml, text/xml",html:k,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},n.ajax=function(i){var r,o,u=n.extend({},i||{}),m=n.Deferred&&n.Deferred();for(v in n.ajaxSettings)u[v]===e&&(u[v]=n.ajaxSettings[v]);s(u),u.crossDomain||(r=T.createElement("a"),r.href=u.url,r.href=r.href,u.crossDomain=S.protocol+"//"+S.host!=r.protocol+"//"+r.host),u.url||(u.url=t.location.toString()),(o=u.url.indexOf("#"))>-1&&(u.url=u.url.slice(0,o)),p(u);var g=u.dataType,b=/\?.+=\?/.test(u.url);if(b&&(g="jsonp"),u.cache!==!1&&(i&&i.cache===!0||"script"!=g&&"jsonp"!=g)||(u.url=f(u.url,"_="+Date.now())),"jsonp"==g)return b||(u.url=f(u.url,u.jsonp?u.jsonp+"=?":u.jsonp===!1?"":"callback=?")),n.ajaxJSONP(u,m);var x,E=u.accepts[g],w={},_=function(t,e){w[t.toLowerCase()]=[t,e]},k=/^([\w-]+:)\/\//.test(u.url)?RegExp.$1:t.location.protocol,M=u.xhr(),L=M.setRequestHeader;if(m&&m.promise(M),u.crossDomain||_("X-Requested-With","XMLHttpRequest"),_("Accept",E||"*/*"),(E=u.mimeType||E)&&(E.indexOf(",")>-1&&(E=E.split(",",2)[0]),M.overrideMimeType&&M.overrideMimeType(E)),(u.contentType||u.contentType!==!1&&u.data&&"GET"!=u.type.toUpperCase())&&_("Content-Type",u.contentType||"application/x-www-form-urlencoded"),u.headers)for(y in u.headers)_(y,u.headers[y]);if(M.setRequestHeader=_,M.onreadystatechange=function(){if(4==M.readyState){M.onreadystatechange=h,clearTimeout(x);var t,e=!1;if(M.status>=200&&M.status<300||304==M.status||0==M.status&&"file:"==k){g=g||d(u.mimeType||M.getResponseHeader("content-type")),t=M.responseText;try{"script"==g?(1,eval)(t):"xml"==g?t=M.responseXML:"json"==g&&(t=C.test(t)?null:n.parseJSON(t))}catch(i){e=i}e?l(e,"parsererror",M,u,m):c(t,M,u,m)}else l(M.statusText||null,M.status?"error":"abort",M,u,m)}},a(M,u)===!1)return M.abort(),l(null,"abort",M,u,m),M;if(u.xhrFields)for(y in u.xhrFields)M[y]=u.xhrFields[y];var D="async"in u?u.async:!0;M.open(u.type,u.url,D,u.username,u.password);for(y in w)L.apply(M,w[y]);return u.timeout>0&&(x=setTimeout(function(){M.onreadystatechange=h,M.abort(),l(null,"timeout",M,u,m)},u.timeout)),M.send(u.data?u.data:null),M},n.get=function(){return n.ajax(m.apply(null,arguments))},n.post=function(){var t=m.apply(null,arguments);return t.type="POST",n.ajax(t)},n.getJSON=function(){var t=m.apply(null,arguments);return t.dataType="json",n.ajax(t)},n.fn.load=function(t,e,i){if(!this.length)return this;var r,s=this,o=t.split(/\s/),a=m(t,e,i),c=a.success;return o.length>1&&(a.url=o[0],r=o[1]),a.success=function(t){s.html(r?n("<div>").html(t.replace(x,"")).find(r):t),c&&c.apply(s,arguments)},n.ajax(a),this};var M=encodeURIComponent;n.param=function(t,e){var i=[];return i.add=function(t,e){n.isFunction(e)&&(e=e()),null==e&&(e=""),this.push(M(t)+"="+M(e))},g(i,t,e),i.join("&").replace(/%20/g,"+")}}(s),function(t){"use strict";var n={};t.widget=function(e,i,r){var s,o,a,c={},l=e.split(".")[0];return e=e.split(".")[1],s=l+"-"+e,r||(r=i,i=t.Widget),t[l]=t[l]||{},o=n[e]=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new o(t,e)},a=new i,a.options=t.widget.extend({},a.options),t.each(r,function(e,n){var r,s;t.isFunction(n)?(r=function(){return i.prototype[e].apply(this,arguments)},s=function(t){return i.prototype[e].apply(this,t)},c[e]=function(){var t,e=this._super,i=this._superApply;try{t=n.apply(this,arguments)}finally{this._super=e,this.__superApply=i}return t}):c[e]=n}),o.prototype=t.widget.extend(a,c,{constructor:o,namespace:l,widgetName:e,widgetFullName:s}),t.widget.bridge(e,o),o},t.widget.has=function(t){return n.hasOwnProperty(t)};var i=Array.prototype.slice;t.widget.extend=function(n){for(var r,s,o=i.call(arguments,1),a=0,c=o.length;c>a;a++)for(r in o[a])s=o[a][r],o[a].hasOwnProperty(r)&&s!==e&&(n[r]=t.isPlainObject(s)?t.isPlainObject(n[r])?t.widget.extend({},n[r],s):t.widget.extend({},s):s);return n};var r="__iqzll3wmdjthuxr_";t.widget.bridge=function(n,s){var o=s.prototype.widgetFullName||n,a=r+o;t.fn[n]=function(r){var o="string"==typeof r,c=i.call(arguments,1),l=this;return o?this.each(function(){var i,s=t(this),o=s.data(a);if("instance"===r)return l=o,!1;if("destroy"===r)return o.destroy&&o.destroy(),void s.removeData(a);if(!o)throw new Error("cannot call methods on "+n+' prior to initialization; attempted to call method "'+r+'"');if(!t.isFunction(o[r])||"_"===r.charAt(0))throw new Error('no such method "'+r+'" for '+n+" widget instance");return i=o[r].apply(o,c),i!==o&&i!==e?(l=i,!1):void 0}):(c.length&&(r=t.widget.extend.apply(null,[{},r].concat(c))),this.each(function(){var e=t(this),n=e.data(a);n?(n.option(r||{}),n._init&&n._init()):e.data(a,new s(r,this))})),l}};var s=function(){};t.Widget=function(){},t.Widget.prototype={options:{},_createWidget:function(e,n){this.element=t(n),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return this.element.data(this.widgetFullName)},_getCreateEventData:s,_create:s,_init:s,destroy:function(){this._destroy()},_destroy:s,_trigger:function(e,n,i){var r,s=this.options[e];return e=this.widgetName+":"+e,i=i||{},r=t.Event(e,{originalEvent:n}),this.element.trigger(r,i),!(t.isFunction(s)&&s.apply(this.element[0],[r].concat(i))===!1||r.isDefaultPrevented())},option:function(n,i){var r,s,o,a=n;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof n)if(a={},r=n.split("."),n=r.shift(),r.length){for(s=a[n]=t.widget.extend({},this,a[n]),o=0;o<r.length-1;o++)n=r[o],s[n]=s[n]||{},s=s[n];if(n=r.pop(),1===arguments.length)return s[n]===e?null:s[n];s[n]=i}else{if(1===arguments.length)return this.options[n]===e?null:this.options[n];a[n]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,this}}}(s),function(i){"use strict";i.widget("blend.dialog",{options:{id:null,hasHeader:!0,top:e,addCSSClass:null,title:"标题",content:"",cancelText:"取消",cancelClass:"",confirmText:"确认",confirmClass:"",maskTapClose:!1,renderType:0,btnStatus:3},_create:function(){var t=this.options;this.$body=i("body"),this.id=t.id||"dialog-"+this._randomID(),this.addCSSClass=t.addCSSClass?t.addCSSClass:"",this.title=t.title,this.content=t.content,this.cancelText=t.cancelText,this.cancelClass=t.cancelClass,this.confirmText=t.confirmText,this.confirmClass=t.confirmClass,this.hasHeader=t.hasHeader,this.autoCloseDone=!0,this.maskTapClose=t.maskTapClose,this.top=t.top,this.renderType=t.renderType,this.useCustom=2===this.renderType?!0:!1,this.btnStatus=t.btnStatus,this.$el=this.element},_init:function(){var t=this;return r?(null!==this._uix,void i.dynamicLoad(function(){require(["src/blend"],function(e){t._uix=t._createUIXDialog(e)})})):void(this.useCustom||(this.$el=this._createHTMLDialog(),this._bindEvent()))},_randomID:function(){return(4096*(1+Math.random())|0).toString(16)},_createUIXDialog:function(t){if(!this.useCustom){var e=this.$el,i=e.find("."+n+"dialog-header").text()||this.title,r=e.find("."+n+"dialog-body").text()||this.content,s=e.find("."+n+"dialog-confirm").text()||this.confirmText,o=e.find("."+n+"dialog-cancel").text()||this.cancelText,a=t.create("dialog",{title:i,description:r});if((1&this.btnStatus)>0){var c=a.create({text:s});c.bind("ontap",function(t){return function(){t._trigger("confirm")}}(this)),a.append(c)}if((2&this.btnStatus)>0){var l=a.create({text:o});l.bind("ontap",function(t){return function(){t._trigger("cancel")}}(this)),a.append(l)}this._uixDialog=a}},_createHTMLDialog:function(){if(this.jsRendered)return this.$el;var t,e;return 0===this.renderType?(e=this.$el,e.find("."+n+"dialog-footer a").addClass(n+"dialog-btn"),t=e):1===this.renderType&&(t=this._getDialogHtml()),this.$title=t.find("."+n+"dialog-title"),this.$content=t.find("."+n+"dialog-body"),this.$header=t.find("."+n+"dialog-header"),this.hasHeader||this.$header.remove(),this.btnStatus?((1&this.btnStatus)<=0&&t.find("."+n+"dialog-confirm").remove(),(2&this.btnStatus)<=0&&t.find("."+n+"dialog-cancel").remove()):t.find("."+n+"dialog-footer").remove(),this.jsRendered=!0,t},_bindEvent:function(){var e=this;i(t).on("orientationchange resize",function(){e.setPosition()}),this.$el.on("click","."+(this.cancelClass||n+"dialog-cancel"),function(){e._trigger("cancel"),e.autoCloseDone&&e.hide()}).on("click","."+(this.doneClass||n+"dialog-confirm"),function(){e._trigger("confirm"),e.autoCloseDone&&e.hide()}).on("dialog.close",function(){alert("close"),e.hide()})},_trigger:function(t){this.$el.trigger("dialog:"+t)},_getDialogHtml:function(){var t='<div class="'+n+'dialog-header">'+this.title+'</div><div class="'+n+'dialog-body">'+this.content+'</div><div class="'+n+'dialog-footer"><a href="javascript:void(0);" class="'+this.confirmClass+" "+n+"dialog-confirm "+n+'dialog-btn">'+this.confirmText+'</a><a href="javascript:void(0);" class="'+this.cancelClass+" "+n+"dialog-cancel "+n+'dialog-btn">'+this.cancelText+"</a></div>";return this.$el.append(t),this.$el},show:function(e){if(r)return this._uixDialog.show(),null;var i=this;return this.lock?this.$el:(this.hasRendered||(this.$el.appendTo(this.$body),this.hasRendered=!0),this.setPosition(),this.mask(.5),e&&this.$content.html(e),t.setTimeout(function(){i.$el.addClass(n+"dialog-show"),i._trigger("show"),i.lock=!1},50),this.lock=!0,this.$el)},hide:function(){var e=this;return this.lock?this.$el:(t.setTimeout(function(){e.unmask(),e.lock=!1},50),this._trigger("hide"),this.lock=!0,this.$el.removeClass(n+"dialog-show"))},destroy:function(){return this.unmask(),this.$el&&(this.$el.remove(),this.$el=[]),this.$el},mask:function(t){var e=this;t=t?' style="opacity:'+t+';"':"";var r=Math.max(document.body.scrollHeight,document.body.clientHeight,document.documentElement.clientHeight);(this._maskDom=i('<div class="'+n+'dialog-mask"'+t+"></div>")).prependTo(this.$body),this._maskDom.css("height",r),this._maskDom.on("click",function(t){t.preventDefault(),e.maskTapClose&&e.hide()}).on("touchmove",function(t){t.preventDefault()})},unmask:function(){this._maskDom.off("touchstart touchmove").remove()},setPosition:function(){var e="undefined"==typeof this.top?t.innerHeight/2-this.$el[0].clientHeight/2:parseInt(this.top,10),n=t.innerWidth/2-this.$el[0].clientWidth/2;return this.$el.css({top:e+"px",left:n+"px"})}})}(s),function(e){"use strict";e.widget("blend.gallery",{options:{},_create:function(){this.$el=this.element;var t=this.options;if(!t.data||!t.data.length)throw new Error("data can not be empty")},_init:function(){var t=this;r?(null!==this._uix,e.dynamicLoad(function(){require(["src/blend"],function(e){t._uix=t._initUIXGallery(e)})})):(this._createMask(),this._setting(),this._renderHTML(),this._bindHandler())},_initUIXGallery:function(t){var e=t.create("gallery",{images:this.options.data});return e},_createMask:function(){if(!this.mask){var t=document.createElement("div");t.classList.add(n+"gallery-mask"),document.querySelector("body").appendChild(this.mask=t)}},_setting:function(){var e=this.options;this.wrap=this.mask,this.data=e.data,this.type="pic",this.isVertical=!1,this.isOverspread=e.isOverspread||!1,this.duration=e.duration||2e3,this.initIndex=e.initIndex||0,(this.initIndex>this.data.length-1||this.initIndex<0)&&(this.initIndex=0),this.fixPage=!0,this.slideIndex=this.slideIndex||this.initIndex||0,this.axis="X",this.reverseAxis="Y"===this.axis?"X":"Y",this.width=this.width||this.wrap.clientWidth||document.body.clientWidth||document.body.offsetWidth,this.height=this.height||this.wrap.clientHeight||document.body.clientHeight||document.body.offsetHeight,this.ratio=this.height/this.width,this.scale=this.width,this.onslide=e.onslide,this.onslidestart=e.onslidestart,this.onslideend=e.onslideend,this.onslidechange=e.onslidechange,this.tapMode="undefined"==typeof e.tapMode?!0:e.tapMode,this.offset=this.offset||{X:0,Y:0},this.useZoom=e.useZoom||!1,this.data.length<2?(this.isLooping=!1,this.isAutoPlay=!1):(this.isLooping=e.isLooping||!1,this.isAutoplay=!1),"card"===e.animateType&&this.isVertical&&(this.isOverspread=!0),this.isAutoplay&&(this.show(),this._play()),this.useZoom&&(this._addZoomPlugin(),this._initZoom(e)),this.infoType=e.infoType||0,this.bottomHeight=1===this.infoType?"50px":"116px",this.log=e.isDebug?function(e){t.console.log(e)}:function(){},this._setUpDamping(),this._animateFunc=e.animateType in this._animateFuncs?this._animateFuncs[e.animateType]:this._animateFuncs["default"]},_animateFuncs:{"default":function(t,e,n,i,r){t.style.webkitTransform="translateZ(0) translate"+e+"("+(r+n*(i-1))+"px)"}},_setUpDamping:function(){var t=this.scale>>1,e=t>>1,n=e>>2;this._damping=function(i){var r,s=Math.abs(i);return r=t>s?s>>1:t+e>s?e+(s-t>>2):e+n+(s-t-e>>3),i>0?r:-r}},_renderItem:function(t,e){var n,i,r=this.data.length;return n=this.isLooping?0>e?this.data[r+e]:e>r-1?this.data[e-r]:this.data[e]:this.data[e]||{empty:!0},n.empty?(t.innerHTML="",void(t.style.background="")):("pic"===this.type?this.isOverspread?(t.style.background="url("+n.image+") 50% 50% no-repeat",t.style.backgroundSize="cover"):i=n.height/n.width>this.ratio?'<img  height="'+this.height+'" src="'+n.image+'">':'<img width="'+this.width+'" src="'+n.image+'">':"dom"===this.type&&(i=n.image),void(i&&(t.innerHTML=i)))},_renderHTML:function(){this.outer&&(this.outer.innerHTML="");var t=this.outer||document.createElement("ul");t.style.cssText="height:"+this.height+"px;width:"+this.width+"px;margin:0;padding:0;list-style:none;",this.els=[];for(var e=0;3>e;e++){var i=document.createElement("li");i.className="dom"===this.type?n+"gallery-dom":n+"gallery-pic",i.style.cssText="height:"+this.height+"px;width:"+this.width+"px;",this.els.push(i),this._animateFunc(i,this.axis,this.scale,e,0),!this.isVertical||"rotate"!==this._opts.animateType&&"flip"!==this._opts.animateType?this._renderItem(i,e-1+this.slideIndex):this._renderItem(i,1-e+this.slideIndex),t.appendChild(i)}this._initLoadImg(),this.outer||(this.outer=t,this.wrap.appendChild(t)),this.topMenu||this._renderTopAndBottom()},_renderTopAndBottom:function(){var t=this.topMenu||document.createElement("div"),e=this.topBack||document.createElement("span"),i=this.topTitle||document.createElement("div");t.classList.add(n+"gallery-top"),e.classList.add(n+"gallery-top-back"),i.classList.add(n+"gallery-top-title"),t.appendChild(e),t.appendChild(this.topTitle=i),e.addEventListener("click",function(t){var e=t;return function(t){e.outer.innerHTML="",e.mask.style.display="none",e._hideMenu()}}(this));var r=this.bottomMenu||document.createElement("div");r.classList.add(n+"gallery-bottom"),1===this.infoType&&r.classList.add(n+"gallery-type-1");var s=this.bottomInfoWrap||document.createElement("div");s.classList.add(n+"gallery-bottom-info-wrap");var o=this.bottomInfo||document.createElement("div");o.classList.add(n+"gallery-bottom-info");var a=this.bottomPage||document.createElement("span");a.classList.add(n+"gallery-bottom-page"),s.appendChild(this.bottomPage=a),s.appendChild(this.bottomInfo=o),r.appendChild(s),this.wrap.appendChild(this.topMenu=t),this.wrap.appendChild(this.bottomMenu=r)},_preloadImg:function(t){var e=this.data.length,n=t,i=this,r=function(t){if(t>-1&&!i.data[t].loaded){var e=new Image;e.src=i.data[t].image,i.data[t].loaded=1}};if("dom"!==i.type){var s=n+2>e-1?(n+2)%e:n+2,o=0>n-2?e-2+n:n-2;r(s),r(o)}},_initLoadImg:function(){var t=this.data,e=t.length,n=this.initIndex,i=this;if("dom"!==this.type&&e>3){var r=n+2>e?(n+1)%e:n+1,s=0>n-1?e-1+n:n-1;t[n].loaded=1,t[r].loaded=1,i.isLooping&&(t[s].loaded=1),setTimeout(function(){i._preloadImg(n)},200)}},_play:function(){var t=this,e=this.duration;clearInterval(this.autoPlayTimer),this.autoPlayTimer=setInterval(function(){t._slideTo(t.slideIndex+1)},e)},_slideTo:function(t){var e=this.data,n=this.els,i=t,r=t-this.slideIndex;if(Math.abs(r)>1){var s=r>0?this.els[2]:this.els[0];this._renderItem(s,i)}this._preloadImg(i),e[i]?this.slideIndex=i:this.isLooping?this.slideIndex=r>0?0:e.length-1:(this.slideIndex=this.slideIndex,r=0),this.log("pic idx:"+this.slideIndex),this.topTitle.innerText=this.data[this.slideIndex].title,this.bottomInfo.innerText=this.data[this.slideIndex].description,this.bottomPage.innerText=this.slideIndex+1+"/"+this.data.length;var o;!this.isVertical||"rotate"!==this._opts.animateType&&"flip"!==this._opts.animateType?r>0?(o=n.shift(),n.push(o)):0>r&&(o=n.pop(),n.unshift(o)):r>0?(o=n.pop(),n.unshift(o)):0>r&&(o=n.shift(),n.push(o)),0!==r&&(Math.abs(r)>1?(this._renderItem(n[0],i-1),this._renderItem(n[2],i+1)):1===Math.abs(r)&&this._renderItem(o,i+r),o.style.webkitTransition="none",o.style.visibility="hidden",setTimeout(function(){o.style.visibility="visible"},200));for(var a=0;3>a;a++)n[a]!==o&&(n[a].style.webkitTransition="all .3s ease"),this._animateFunc(n[a],this.axis,this.scale,a,0);this.isAutoplay&&!this.isLooping&&this.slideIndex===e.length-1&&this._pause()},_pause:function(){clearInterval(this.autoPlayTimer)},_device:function(){var e=!!("ontouchstart"in t||t.DocumentTouch&&document instanceof t.DocumentTouch),n=e?"touchstart":"mousedown",i=e?"touchmove":"mousemove",r=e?"touchend":"mouseup";return{hasTouch:e,startEvt:n,moveEvt:i,endEvt:r}},_bindHandler:function(){var e=this.outer,n=this._device();n.hasTouch||(e.style.cursor="pointer",e.ondragstart=function(t){return t?!1:!0}),e.addEventListener(n.startEvt,this),e.addEventListener(n.moveEvt,this),e.addEventListener(n.endEvt,this),t.addEventListener("orientationchange",this)},handleEvent:function(t){var e=this._device();switch(t.type){case e.startEvt:this._startHandler(t);break;case e.moveEvt:this._moveHandler(t);break;case e.endEvt:this._endHandler(t);break;case"touchcancel":this._endHandler(t);break;case"orientationchange":this._orientationchangeHandler();break;case"focus":this.isAutoplay&&this._play();break;case"blur":this._pause()}},_startHandler:function(t){this.fixPage&&t.preventDefault();var e=this._device();this.isMoving=!0,this._pause(),this.log("Event: beforeslide"),this.startTime=(new Date).getTime(),this.startX=e.hasTouch?t.targetTouches[0].pageX:t.pageX,this.startY=e.hasTouch?t.targetTouches[0].pageY:t.pageY,this.zoomStartHandler&&this.zoomStartHandler(t)},_moveHandler:function(t){if(this.isMoving){var e=this._device(),n=this.data.length,i=this.axis,r=this.reverseAxis,s={X:e.hasTouch?t.targetTouches[0].pageX-this.startX:t.pageX-this.startX,Y:e.hasTouch?t.targetTouches[0].pageY-this.startY:t.pageY-this.startY},o=this.zoomMoveHandler?this.zoomMoveHandler(t):!1;if(!o&&Math.abs(s[i])-Math.abs(s[r])>10){t.preventDefault(),this.onslide&&this.onslide(s[i]),this.log("Event: onslide"),this.isLooping||(s[i]>0&&0===this.slideIndex||s[i]<0&&this.slideIndex===n-1)&&(s[i]=this._damping(s[i]));for(var a=0;3>a;a++){var c=this.els[a];c.style.webkitTransition="all 0s",this._animateFunc(c,i,this.scale,a,s[i])}}this.offset=s}},_endHandler:function(t){this.isMoving=!1;var e=this.offset,n=this.axis,i=this.scale/2,r=(new Date).getTime();i=r-this.startTime>300?i:14;var s=this.zoomEndHandler?this.zoomEndHandler(t):!1,o=Math.abs(e[n]),a=Math.abs(e[this.reverseAxis]);if(!s&&e[n]>=i&&o>a)this._slideTo(this.slideIndex-1);else if(!s&&e[n]<-i&&o>a)this._slideTo(this.slideIndex+1);else if(!s){this._slideTo(this.slideIndex);var c=this;setTimeout(function(){3!==c.gesture&&c.tapMode?c.isMenuShow?c._hideMenu():c._showMenu():3===c.gesture||c.tapMode||c.hide()},300)}Math.abs(this.offset.X)<10&&Math.abs(this.offset.Y)<10&&(this.tapEvt=document.createEvent("Event"),this.tapEvt.initEvent("tap",!0,!0),t.target.dispatchEvent(this.tapEvt)||t.preventDefault()),this.offset.X=this.offset.Y=0,this.isAutoplay&&this._play(),this.log("Event: afterslide")},_destroy:function(){var e=this.outer,n=this._device();e.removeEventListener(n.startEvt,this),e.removeEventListener(n.moveEvt,this),e.removeEventListener(n.endEvt,this),t.removeEventListener("orientationchange",this),t.removeEventListener("focus",this),t.removeEventListener("blur",this),this.wrap.innerHTML=""},_showMenu:function(){this.topMenu.style.webkitTransform="translate3d(0, 0, 0)",this.bottomMenu.style.webkitTransform="translate3d(0, 0, 0)",this.isMenuShow=!0},_hideMenu:function(){this.topMenu.style.webkitTransform="translate3d(0, -44px, 0)",this.bottomMenu.style.webkitTransform="translate3d(0, "+this.bottomHeight+", 0)",this.isMenuShow=!1},show:function(t){if(r&&this._uix)return void this._uix.show();if(0>t||isNaN(parseInt(t,10))?t=0:t>=this.data.length&&(t=this.data.length-1),this.initIndex=t,this._renderHTML(),this._slideTo(t),this.mask.style.visibility="visible",this.mask.style.display="block",this.tapMode){var e=this;setTimeout(function(){e._showMenu()},300)}},hide:function(){this.mask.style.display="none",this.mask.style.visibility="hidden"},extend:function(t,e){e||(e=this),Object.keys(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})},_addZoomPlugin:function(){function e(t,e,n,i){return"translate"+(b?"3d(":"(")+t+"px,"+e+(b?"px,"+n+"px)":"px)")+"scale("+i+")"}function n(t,e){var n,i;return n=t.left-e.left,i=t.top-e.top,Math.sqrt(n*n+i*i)}function i(t,e){return t+"px "+e+"px"}function r(t){return Array.prototype.slice.call(t).map(function(t){return{left:t.pageX,top:t.pageY}})}function s(t,e){var i=n(t[0],t[1]),r=n(e[0],e[1]);return r/i}function o(e){var n={translateX:0,translateY:0,translateZ:0,scaleX:1,scaleY:1,offsetX:0,offsetY:0},i=0,r=0;if(!t.getComputedStyle||!e)return n;var s,o,a=t.getComputedStyle(e);s=a.webkitTransform||a.mozTransform,o=a.webkitTransformOrigin||a.mozTransformOrigin;var c=o.match(/(.*)px\s+(.*)px/);if(c.length>1&&(i=c[1]-0,r=c[2]-0),"none"===s)return n;var l,u=s.match(/^matrix3d\((.+)\)$/),h=s.match(/^matrix\((.+)\)$/);return u?(l=u[1].split(", "),n={translateX:l[12]-0,translateY:l[13]-0,translateZ:l[14]-0,offsetX:i-0,offsetY:r-0,scaleX:l[0]-0,scaleY:l[5]-0,scaleZ:l[10]-0}):h&&(l=h[1].split(", "),n={translateX:l[4]-0,translateY:l[5]-0,offsetX:i-0,offsetY:r-0,scaleX:l[0]-0,scaleY:l[3]-0}),n}function a(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function c(t){this.currentScale=1,this.zoomFactor=t.zoomFactor||2}function l(t){if(this.useZoom){var e=this.els[1].querySelector("img"),n=o(e);this.startTouches=r(t.targetTouches),this._startX=n.translateX-0,this._startY=n.translateY-0,this.currentScale=n.scaleX,this.zoomNode=e;var s=m(e);if(2===t.targetTouches.length){this.lastTouchStart=null;var c=t.touches,l=a({x:c[0].pageX,y:c[0].pageY},{x:c[1].pageX,y:c[1].pageY});e.style.webkitTransformOrigin=i(l.x-s.left,l.y-s.top)}else if(1===t.targetTouches.length){var u=(new Date).getTime();this.gesture=0,u-this.lastTouchStart<300&&(t.preventDefault(),this.gesture=3),this.lastTouchStart=u}}}function u(t){var e=0,n=this.zoomNode,i=this._device();return i.hasTouch?(2===t.targetTouches.length&&this.useZoom?(n.style.webkitTransitionDuration="0",t.preventDefault(),this._scaleImage(t),e=2):1===t.targetTouches.length&&this.useZoom&&this.currentScale>1&&(n.style.webkitTransitionDuration="0",t.preventDefault(),this._moveImage(t),e=1),this.gesture=e,e):void 0}function h(t){{var n=this.zoomFactor||2,i=this.zoomNode;m(i)}this.currentScale=1===this.currentScale?n:1,i.style.webkitTransform=e(0,0,0,this.currentScale)}function d(t){var n=r(t.targetTouches),i=s(this.startTouches,n),o=t.scale||i,a=this.zoomNode;i=this.currentScale*o<T?T:this.currentScale*o,a.style.webkitTransform=e(0,0,0,i)}function f(t){var e=0;return 2===this.gesture?(this._resetImage(t),e=2):1===this.gesture?(this._resetImage(t),e=1):3===this.gesture&&(this._handleDoubleTap(t),e=3),e}function p(t){var n=this.zoomNode,i=this._device(),r={X:i.hasTouch?t.targetTouches[0].pageX-this.startX:t.pageX-this.startX,Y:i.hasTouch?t.targetTouches[0].pageY-this.startY:t.pageY-this.startY};this.moveOffset={x:this._startX+r.X-0,y:this._startY+r.Y-0},n.style.webkitTransform=e(this.moveOffset.x,this.moveOffset.y,0,this.currentScale)}function m(t){var e={left:0,top:0};do e.top+=t.offsetTop||0,e.left+=t.offsetLeft||0,t=t.offsetParent;while(t);return e}function g(t,e,n){var i,r,s=m(t);x={start:{left:s.left,top:s.top},end:{left:s.left+t.clientWidth,top:s.top+t.clientHeight}};var o=1===n?"left":"top";return i=x.start[o],r=x.end[o],e>=i&&r>=e}function v(t,e){var n=0,i=g(t,e.start.left,1),r=g(t,e.end.left,1),s=g(t,e.start.top,0),o=g(t,e.end.top,0);return i!==r&&s!==o?n=i&&o?1:i&&s?2:r&&o?3:4:i===r?!s&&o?n=5:!o&&s&&(n=6):s===o?!i&&r?n=7:i&&!r&&(n=8):s===o===i===r&&(n=9),n}function y(t){if(1!==this.currentScale){var n,i,r,s,a,c,l,u,h,d,f=this.zoomNode;switch(r=o(f),h=f.parentNode,s=f.clientWidth*r.scaleX,a=f.clientHeight*r.scaleX,c=m(f),l={left:(1-r.scaleX)*r.offsetX+c.left+r.translateX,top:(1-r.scaleX)*r.offsetY+c.top+r.translateY},u={left:l.left+s,top:l.top+a},n=l.left,i=l.top,d=v(h,{start:l,end:u})){case 1:n=x.start.left,i=x.end.top-a;break;case 2:n=x.start.left,i=x.start.top;break;case 3:n=x.end.left-s,i=x.end.top-a;break;case 4:n=x.end.left-s,i=x.start.top;break;case 5:i=x.end.top-a;break;case 6:i=x.start.top;break;case 7:n=x.end.left-s;break;case 8:n=x.start.left}s<h.clientWidth&&(n=c.left-(r.scaleX-1)*f.clientWidth/2),a<h.clientHeight&&(i=c.top-(r.scaleX-1)*f.clientHeight/2),f.style.webkitTransitionDuration="100ms",f.style.webkitTransform=e(r.translateX+n-l.left,r.translateY+i-l.top,0,r.scaleX)}}var b="WebKitCSSMatrix"in t&&"m11"in new WebKitCSSMatrix,T=.5,x={};this.extend({_initZoom:c,_scaleImage:d,_moveImage:p,_resetImage:y,_handleDoubleTap:h,zoomMoveHandler:u,zoomEndHandler:f,zoomStartHandler:l})}})}(s),function(t){t(function(){t("[data-blend-widget]").each(function(e,n){var i,r,s=t(n),o=s.data("blend-widget"),a=o.split(","),c=a.length;for(i=0;c>i;i++){if(r=a[i],!t.widget.has(r))throw new Error('Unknow blend widget "'+r+'"');s[r]()}})})}(s)}(window);
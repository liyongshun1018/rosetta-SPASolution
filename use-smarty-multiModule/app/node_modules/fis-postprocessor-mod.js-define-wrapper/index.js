// 这是一个 postprocessor 插件

var util = require('util');

/**
 * 要实现的是 mod.js 的 define 自动 wrapper 功能
 * @param  {string} content 文件内容
 * @param  {Object} file    File 对象，参考 fis3/lib/file.js 实现
 * @param  {Object} options 命令行参数，其实没啥用
 * @return {string}         处理后的 content
 */
module.exports = function (content, file, options) {
    if (!file.isMod) {
        return content;
    }
    
    return util.format(
        'define(\'%s\', function (require, exports, module) { %s \n});',
        file.getId(),
        content
    );
};